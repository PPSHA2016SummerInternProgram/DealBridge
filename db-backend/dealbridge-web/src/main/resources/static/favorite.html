
<!DOCTYPE html>
<html>
   <head>
      <title>收藏页面</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <!-- 引入 Bootstrap -->
      <link href="./bootstrap-3.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
      <link rel="stylesheet" href="./font-awesome-4.6.3/css/font-awesome.min.css">
     
 	  <script src="./jquery-2.0.0/jquery.min.js"></script>
 	  <script src="./bootstrap-3.3.6/dist/js/bootstrap.min.js"></script>
    <style>
 .divcss5-x5{ padding-bottom:5px; border-bottom:1px solid red} 
.divcss5-x10{ padding-bottom:10px; border-bottom:1px solid #000} 
    
.dropbtn {
    background-color: rgb(248,248,248);
    color: white;
    padding: 16px;
    font-size: 16px;
    border: none;
    cursor: pointer;
}

.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    right:2px;
}

.dropdown-content a {
    color: black;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
}

.dropdown-content a:hover {background-color: #f1f1f1}

.dropdown:hover .dropdown-content {
    display: block;
}

.dropdown:hover .dropbtn {
    background-color: #ccc;
}
</style>
      
 </head>
   
   
   
   
   
   
   <body>
   <script>

</script>
<nav class="navbar navbar-default navbar-fixed-top" role="navigation" >
   <div class="navbar-header" >
   <div class="dropdown" style="float:right;">
  
  		<button class="dropbtn" style="color:#333"><i class="fa fa-bars" aria-hidden="true"></i></button>
        <div class="dropdown-content" >
         <a href="#">首页</a>
         <a href="#">帮助</a>
         <a href="#">我要反馈</a>
     
      </div>
	 
   </div>
  <a class="navbar-brand" id="bianji" href="#"style="float:right;border:1px;">编辑</a>
  
   <a class="navbar-brand" href="#">收藏夹</a>
   </div>
 	<div style="padding-top:4px;background-color:#ffffff;color:red;font-family:Microsoft YaHei;padding-left:7px;padding-bottom:4px;font-size:5px;text-align:center">全部收藏(12)
      </div>
	 <div style="padding-top:4px;background-color:#f2eef2;opacity:0.3;filter:alpha(opacity=30);color:#333;padding-left:7px;padding-bottom:4px;font-size:3px;">最近一个月收藏
      </div>
      
</nav>
	
      
	
	
	<!--收藏列表-->
	<table class="table table-striped table-hover " id="table1" style="transition:0.3s ease-out;margin-left:-30px;margin-bottom:0;margin-top:100px;" >
  <tbody >
     
    <tr style="background-color:#ffffff" >
      <td width=30px height=120px style="padding:0px 0px 1px 0px;">
      <i class="fa fa-circle-thin" id="dis" data-dis aria-hidden="true" style="font-size:20px;padding:48px 3px 48px 13px;"></i>
      </td>
      <td width="30%" height=120px style="padding:0px 0px 1px 0px">
      	<img src="./img/1.jpeg" width="100%"height="100%"  >
      </td>
      <td  >
      <div style="padding:6px 0px; color:#000000; font-size:15px;font-family:Microsoft YaHei;">
      	【光大】屈臣氏3倍积分
      </div >
      <div style="color:#9a9090;font-size:12px;padding-right:10px;height:50px">浦发银行卡屈臣氏全国门户门户三倍积分,消费满300减30</div>
     	    <div style="color:#000000;font-size:10px;"> <i class="fa fa-clock-o" aria-hidden="true" style="color:red;"></i> 活动时间：2012.6~2013.6
     		</div>
     	
      </td>  
    </tr>


     
    <tr style="background-color:#ffffff">
     <td width=30px height=120px style="padding:0px 0px 1px 0px;">
  	    <i class="fa fa-circle-thin" id="dis"  data-dis aria-hidden="true" style="font-size:20px;padding:48px 3px 48px 13px;"></i>
      </td>
     <td width="30%" height=120px style="padding:0px 0px 1px 0px">
      	<img src="./img/2.jpeg" width="100%" height="100%" >
     </td>
      <td>
      <div style="padding:6px 0px; color:#000000; font-size:15px;font-family:Microsoft YaHei;">
      	【建行】屈臣氏3倍积分
      </div >
      <div style="color:#9a9090;font-size:12px;padding-right:10px;height:50px">浦发银行卡屈臣氏全国门户门户三倍积分,消费满300减30
     	</div>
     	   
     	  <div style="color:#000000;font-size:10px;"> <i class="fa fa-clock-o" aria-hidden="true" style="color:red;"></i> 活动时间：2012.6~2013.6
     	</div>
     </td>
     
    </tr>
     

    <tr style="background-color:#ffffff">
     <td width=30px height=120px style="padding:0px 0px 1px 0px;">
        <i class="fa fa-circle-thin" id="dis"  data-dis aria-hidden="true" style="font-size:20px;padding:48px 3px 48px 13px;"></i>
      </td>
      <td width="30%" height=120px style="padding:0px 0px 1px 0px">
      	<img src="./img/3.jpeg" width="100%" height="100%">
      </td>
      
       <td>
      <div style="padding:6px 0px; color:#000000; font-size:15px;font-family:Microsoft YaHei;">
      	屈臣氏3倍积分
      </div >
      <div style="color:#9a9090;font-size:12px;padding-right:10px;height:50px">浦发银行卡屈臣氏全国门户门户三倍积分,消费满300减30
     	</div>
     	    <div style="color:#000000;font-size:10px;"> <i class="fa fa-clock-o" aria-hidden="true" style="color:red;"></i> 活动时间：2012.6~2013.6
     	</div>
     </td>
     
    </tr>


    <tr style="background-color:#ffffff">
     <td width=30px height=120px style="padding:0px 0px 1px 0px;">
        <i class="fa fa-circle-thin" id="dis" data-dis aria-hidden="true" style="font-size:20px;padding:48px 3px 48px 13px;"></i>
      </td>
      <td width="30%" height=120px style="padding:0px 0px 1px 0px">
      	<img src="./img/4.jpeg" width="100%" height="100%">
      </td>
      
      <td>
      <div style="padding:6px 0px; color:#000000; font-size:15px;font-family:Microsoft YaHei;">
      	屈臣氏3倍积分
      </div >
      <div style="color:#9a9090;font-size:12px;padding-right:10px;height:50px">浦发银行卡屈臣氏全国门户门户三倍积分,消费满300减30
     	</div>
     	   <div style="color:#000000;font-size:10px;"> <i class="fa fa-clock-o" aria-hidden="true" style="color:red;"></i> 活动时间：2012.6~2013.6
     	</div>
     </td>
     
    </tr>
     
 
    <tr style="background-color:#ffffff">
     <td width=30px height=120px style="padding:0px 0px 1px 0px;">
        <i class="fa fa-circle-thin" id="dis" data-dis aria-hidden="true" style="font-size:20px;padding:48px 3px 48px 13px;"></i>
      </td>
      <td width="30%" height=120px style="padding:0px 0px 1px 0px ">
      	<img src="./img/discount.jpeg" width="100%"height="100%" >
      </td>
      
       <td>
      <div style="padding:6px 0px; color:#000000; font-size:15px;font-family:Microsoft YaHei;">
      	屈臣氏3倍积分
      </div >
      <div style="color:#9a9090;font-size:12px;padding-right:10px;height:50px">浦发银行卡屈臣氏全国门户门户三倍积分,消费满300减30
     	</div>
     	    <div style="color:#000000;font-size:10px;"> <i class="fa fa-clock-o" aria-hidden="true" style="color:red;"></i> 活动时间：2012.6~2013.6
     	</div>
     </td>
     
    </tr>
  </tbody>
  </table>
  
  
  
  
  
  
  
  
  <table id="table2" style="margin-left:-30px;margin-bottom:0;margin-top:0px;">
  <tbody >
     <div style="padding-top:0px;background-color:#f2eef2;opacity:0.3;filter:alpha(opacity=30);color:#333;padding-left:7px;padding-bottom:4px;font-size:3px;">3个月内收藏
      </div>
 
    <tr style="background-color:#ffffff">
    <td width=30px height=120px style="padding:0px 0px 1px 0px;">
        <i class="fa fa-circle-thin" id="dis" data-dis aria-hidden="true" style="font-size:20px;padding:48px 3px 48px 13px;"></i>
      </td>
      <td width="30%" height=120px style="padding:0px 0px 1px 0px">
      	<img src="./img/3.jpeg" width="100%" height="100%" >
      </td>
       <td>
      <div style="padding:6px 0px; color:#000000; font-size:15px;font-family:Microsoft YaHei;">
      	屈臣氏3倍积分
      </div >
      <div style="color:#9a9090;font-size:12px;padding-right:10px;height:50px">浦发银行卡屈臣氏全国门户门户三倍积分,消费满300减30
     	</div>
     	    <div style="color:#000000;font-size:10px;"> <i class="fa fa-clock-o" aria-hidden="true" style="color:red;"></i> 活动时间：2012.6~2013.6
     	</div>
     </td>
    </tr>


     
    <tr style="background-color:#ffffff">
    <tr >
     <td width=30px height=120px style="padding:0px 0px 1px 0px;">
        <i class="fa fa-circle-thin" id="dis" data-dis aria-hidden="true" style="font-size:20px;padding:48px 3px 48px 13px;"></i>
      </td>
     <td width="30%" height=120px style="padding:0px 0px 1px 0px">
      	<img src="./img/3.jpeg" width="100%" height="100%" >
      </td>
      <td>
      <div style="padding:6px 0px; color:#000000; font-size:15px;font-family:Microsoft YaHei;">
      	屈臣氏3倍积分
      </div >
      <div style="color:#9a9090;font-size:12px;padding-right:10px;height:50px">浦发银行卡屈臣氏全国门户门户三倍积分,消费满300减30
     	</div>
     	    <div style="color:#000000;font-size:10px;"> <i class="fa fa-clock-o" aria-hidden="true" style="color:red;"></i> 活动时间：2012.6~2013.6
     	</div>
     </td>
     
    </tr>
     

    <tr style="background-color:#ffffff">
     <td width=30px height=120px style="padding:0px 0px 1px 0px;">
        <i class="fa fa-circle-thin" id="dis" data-dis aria-hidden="true" style="font-size:20px;padding:48px 3px 48px 13px;"></i>
      </td>
      <td width="30%" height=120px style="padding:0px 0px 1px 0px">
      	<img src="./img/3.jpeg" width="100%" height="100%">
      </td>
      
       <td>
      <div style="padding:6px 0px; color:#000000; font-size:15px;font-family:Microsoft YaHei;">
      	屈臣氏3倍积分
      </div >
      <div style="color:#9a9090;font-size:12px;padding-right:10px;height:50px">浦发银行卡屈臣氏全国门户门户三倍积分,消费满300减30
     	</div>
     	    <div style="color:#000000;font-size:10px;"> <i class="fa fa-clock-o" aria-hidden="true" style="color:red;"></i> 活动时间：2012.6~2013.6
     	</div>
     </td>
     
    </tr>


    <tr style="background-color:#ffffff" >
     <td width=30px height=120px style="padding:0px 0px 1px 0px;">
        <i class="fa fa-circle-thin" id="dis" data-dis aria-hidden="true" style="font-size:20px;padding:48px 3px 48px 13px;"></i>
      </td>
      <td width="30%" height=120px style="padding:0px 0px 1px 0px">
      	<img src="./img/3.jpeg" width="100%" height="100%">
      </td>
      
       <td>
      <div style="padding:6px 0px; color:#000000; font-size:15px;font-family:Microsoft YaHei;">
      	屈臣氏3倍积分
      </div >
      <div style="color:#9a9090;font-size:12px;padding-right:10px;height:50px">浦发银行卡屈臣氏全国门户门户三倍积分,消费满300减30
     	</div>
     	    <div style="color:#000000;font-size:10px;"> <i class="fa fa-clock-o" aria-hidden="true" style="color:red;"></i> 活动时间：2012.6~2013.6
     	</div>
     </td>
    </tr>
     
 
    <tr style="background-color:#ffffff">
     <td width=30px height=120px style="padding:0px 0px 1px 0px;">
        <i class="fa fa-circle-thin" id="dis" data-dis aria-hidden="true" style="font-size:20px;padding:48px 3px 48px 13px;"></i>
      </td>
      <td width="30%" height=120px style="padding:0px 0px 1px 0px ">
      	<img src="./img/3.jpeg" width="100%" height="100%">
      </td>
      
       <td>
      <div style="padding:6px 0px; color:#000000; font-size:15px;font-family:Microsoft YaHei;">
      	屈臣氏3倍积分
      </div >
      <div style="color:#9a9090;font-size:12px;padding-right:10px;height:50px">浦发银行卡屈臣氏全国门户门户三倍积分,消费满300减30
     	</div>
     	    <div style="color:#000000;font-size:10px;"> <i class="fa fa-clock-o" aria-hidden="true" style="color:red;"></i> 活动时间：2012.6~2013.6
     	</div>
     </td>
     
    </tr>
    
  </tbody>
  
</table> 
	
</body>
<script>
$('#bianji').on('click', deleteFunction)
function deleteFunction()
{
	var text = $(this).text();
	if(text==='编辑')
	{
	
	$('#table1').css('margin-left', "0px");

	$('#table2').css('margin-left', "0px");
	
	$('#bianji').html('<span class="divcss5-x5">完成</span>');
	//$("#bianji").css('color','#ffffff');
	//$("#bianji").css('background-color','red');

	console.log(text)
	}
	if(text==='完成')
		{
		$('#bianji').html('<span class="divcss5-x5">编辑</span>');
		console.log('finish')
		$('#table1').css('margin-left', "-30px");

		$('#table2').css('margin-left', "-30px");
		
		var items = $('[data-dis]');
		var favIds = [];
		for (var i=0;i<items.length;i++)
			{
			var item = items[i];
			if($(item).attr('data-dis')==='show')
				{
				$(item).closest('tr').hide();
				favIds.push($(item).closest('tr').attr('favorite_id'));
				}
			
			}
		$.ajax({
			type: "DELETE",
			
			url:"/api/favorite/",
			data:favIds,
			error: function() {
				console.log("delete favorite discount error");
			},
		});
		
		
		}
	
	
}
$('[data-dis]').on('click', chooseFunction)
function chooseFunction()
{
	//$('#dis').toggleClass("fa fa-check-circle");
	var dis = $(this).attr('data-dis');
	if(dis === 'show'){
		$(this).attr('data-dis', 'hide')
		$(this).addClass("fa-circle-thin");
		$(this).removeClass("fa-check-circle");
	}else{
		$(this).attr('data-dis', 'show')
		$(this).removeClass("fa-circle-thin");
		$(this).addClass("fa-check-circle");
	}
	
}
</script>
</html>